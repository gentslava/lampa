!function(){"use strict";function e(){var e={type:"other",version:"0.3.3",name:Lampa.Lang.translate("name_plugin"),description:Lampa.Lang.translate("plugin_description"),component:"head_filter"};Lampa.Manifest.plugins=e;const a={head_filter_show_search:{name:Lampa.Lang.translate("search"),element:".open--search"},head_filter_show_settings:{name:Lampa.Lang.translate("settings"),element:".open--settings"},head_filter_show_profile:{name:Lampa.Lang.translate("profile"),element:".open--profile"},head_filter_show_fullscreen:{name:Lampa.Lang.translate("fullscreen"),element:".full--screen"},head_filter_show_notice:{name:Lampa.Lang.translate("notice"),element:".notice--icon"},head_filter_show_aisearch:{name:Lampa.Lang.translate("aisearch"),element:".ai-search-header-btn"},head_filter_show_time:{name:Lampa.Lang.translate("time"),element:".head__time"}};function n(e,a){const n=Lampa.Head.render();if(!n||!n.length)return;const t=n.find(e);t.length&&(a?t.removeClass("hide").css("display",""):t.addClass("hide").css("display","none"))}function t(e,a){let n=0;const t=setInterval((function(){const i=Lampa.Head.render();if(i&&i.length){const n=i.find(e);if(n.length)return a?n.removeClass("hide").css("display",""):n.addClass("hide").css("display","none"),void clearInterval(t)}n++,n>=100&&clearInterval(t)}),100)}function i(){Object.keys(a).forEach((e=>{const i=Lampa.Storage.get(e,!0),r=a[e].element;"head_filter_show_notice"===e||"head_filter_show_profile"===e?t(r,i):n(r,i)}))}Lampa.Storage.listener.follow("change",(e=>{if("activity"===e.name)setTimeout(i,500);else if(e.name in a){const i=Lampa.Storage.get(e.name,!0),r=a[e.name].element;"head_filter_show_notice"===e.name||"head_filter_show_profile"===e.name?t(r,i):n(r,i)}})),setTimeout(i,1500),Lampa.Template.add("settings_head_filter","<div></div>"),Lampa.SettingsApi.addParam({component:"interface",param:{type:"button"},field:{name:Lampa.Lang.translate("name_plugin"),description:Lampa.Lang.translate("plugin_description")},onChange:()=>{Lampa.Settings.create("head_filter",{onBack:()=>{Lampa.Settings.create("interface")}})}}),Lampa.SettingsApi.addParam({component:"head_filter",param:{type:"title"},field:{name:Lampa.Lang.translate("name_menu")}}),Object.keys(a).forEach((e=>{Lampa.SettingsApi.addParam({component:"head_filter",param:{name:e,type:"trigger",default:!0},field:{name:a[e].name}})}))}Lampa.Lang.add({name_plugin:{ru:"Настройка шапки",en:"Header settings"},plugin_description:{ru:"Плагин для настройки шапки",en:"Plugin for customizing the header"},name_menu:{ru:"Отображать в шапке",en:"Display in header"},search:{ru:"Поиск",en:"Search"},settings:{ru:"Настройки",en:"Settings"},profile:{ru:"Профиль",en:"Profile"},fullscreen:{ru:"Полный экран",en:"Fullscreen"},fullscreen:{ru:"Полный экран",en:"Fullscreen"},notice:{ru:"Уведомления",en:"Notifications"},aisearch:{ru:"ИИ поиск",en:"AI search"},time:{ru:"Время",en:"Clock"}}),window.appready?e():Lampa.Listener.follow("app",(a=>{"ready"===a.type&&e()}))}();