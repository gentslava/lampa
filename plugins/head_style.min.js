!function(){"use strict";function e(){var e={type:"other",version:"0.3.3",name:Lampa.Lang.translate("name_plugin"),description:Lampa.Lang.translate("plugin_description"),component:"head_filter"};Lampa.Manifest.plugins=e;const a={head_filter_show_search:{name:Lampa.Lang.translate("search"),element:".open--search"},head_filter_show_settings:{name:Lampa.Lang.translate("settings"),element:".open--settings"},head_filter_show_profile:{name:Lampa.Lang.translate("profile"),element:".open--profile"},head_filter_show_fullscreen:{name:Lampa.Lang.translate("fullscreen"),element:".full--screen"},head_filter_show_notice:{name:Lampa.Lang.translate("notice"),element:".notice--icon"},head_filter_show_aisearch:{name:Lampa.Lang.translate("aisearch"),element:".ai-search-header-btn"},head_filter_show_time:{name:Lampa.Lang.translate("time"),element:".head__time"},head_filter_style_background:{name:Lampa.Lang.translate("style_background"),style:!0,element:".head__body"},head_filter_style_compact:{name:Lampa.Lang.translate("style_compact"),style:!0,element:".head__controls"}};function n(e){let n=a[e].element;if(!n)return;if(a[e].style){const t=Lampa.Storage.get("head_filter_style_background",!1);if("head_filter_style_compact"===e&&!t)return;const r=Lampa.Head.render();if(!r||!r.length)return;const l=Lampa.Storage.get("head_filter_style_compact",!1);l&&(n=a.head_filter_style_compact.element);const s=r.find(n);if(s.length){if(!t){s.removeClass("head__body--background");const e=r.find(a.head_filter_style_compact.element);return void(e.length&&(e.removeClass("head__body--background"),e.removeClass("head__body--padding")))}if(s.addClass("head__body--background"),l){s.addClass("head__body--padding");const e=r.find(a.head_filter_style_background.element);e.length&&e.removeClass("head__body--background")}else{s.removeClass("head__body--padding"),s.removeClass("head__body--background");const e=r.find(a.head_filter_style_background.element);e.length&&e.addClass("head__body--background")}}return}const t=Lampa.Storage.get(e,!0);"head_filter_show_notice"===e||"head_filter_show_profile"===e?function(e,a){let n=0;const t=setInterval((function(){const r=Lampa.Head.render();if(r&&r.length){const n=r.find(e);if(n.length)return a?n.removeClass("hide").css("display",""):n.addClass("hide").css("display","none"),void clearInterval(t)}n++,n>=100&&clearInterval(t)}),100)}(n,t):function(e,a){const n=Lampa.Head.render();if(!n||!n.length)return;const t=n.find(e);t.length&&(a?t.removeClass("hide").css("display",""):t.addClass("hide").css("display","none"))}(n,t)}function t(){Object.keys(a).forEach(n)}Lampa.Storage.listener.follow("change",(e=>{"activity"===e.name?setTimeout(t,500):e.name in a&&n(e.name)})),setTimeout(t,1500),Lampa.Template.add("settings_head_filter","<div></div>"),Lampa.SettingsApi.addParam({component:"interface",param:{type:"button"},field:{name:Lampa.Lang.translate("name_plugin"),description:Lampa.Lang.translate("plugin_description")},onChange:()=>{Lampa.Settings.create("head_filter",{onBack:()=>{Lampa.Settings.create("interface")}})}}),Lampa.SettingsApi.addParam({component:"head_filter",param:{type:"title"},field:{name:Lampa.Lang.translate("name_menu_filter")}}),Object.entries(a).forEach((([e,a])=>{a.style||Lampa.SettingsApi.addParam({component:"head_filter",param:{name:e,type:"trigger",default:!0},field:{name:a.name}})})),Lampa.SettingsApi.addParam({component:"head_filter",param:{type:"title"},field:{name:Lampa.Lang.translate("name_menu_style")}}),Object.entries(a).forEach((([e,a])=>{a.style&&Lampa.SettingsApi.addParam({component:"head_filter",param:{name:e,type:"trigger",default:!1},field:{name:a.name}})})),Lampa.Template.add("settings_head_style","\n      <style>\n      .head__body--background {\n        background-color: rgba(0, 0, 0, 0.3);\n        border-radius: 1em;\n      }\n      .head__body--padding {\n        padding: 0.3em 1em;\n      }\n      </style>\n      "),$("body").append(Lampa.Template.get("settings_head_style",{},!0))}Lampa.Lang.add({name_plugin:{ru:"Настройка шапки",en:"Header settings"},plugin_description:{ru:"Плагин для настройки шапки",en:"Plugin for customizing the header"},name_menu_filter:{ru:"Отображать в шапке",en:"Display in header"},name_menu_style:{ru:"Стиль шапки",en:"Header style"},search:{ru:"Поиск",en:"Search"},settings:{ru:"Настройки",en:"Settings"},profile:{ru:"Профиль",en:"Profile"},fullscreen:{ru:"Полный экран",en:"Fullscreen"},fullscreen:{ru:"Полный экран",en:"Fullscreen"},notice:{ru:"Уведомления",en:"Notifications"},aisearch:{ru:"ИИ поиск",en:"AI search"},time:{ru:"Время",en:"Clock"},style_background:{ru:"Подложка для шапки",en:"Header background"},style_compact:{ru:"Компактная шапка",en:"Elegant header"}}),window.appready?e():Lampa.Listener.follow("app",(a=>{"ready"===a.type&&e()}))}();